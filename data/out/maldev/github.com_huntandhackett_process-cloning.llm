Title:
The Definitive Guide To Process Cloning on Windows (huntandhackett/process-cloning)

Type:
GitHub Tool

Short Summary (4–8 sentences max):
- This repository is a long-form technical guide plus C demos/library explaining Windows “process cloning” (fork-like behavior) and how it works internally.  
- It contrasts cloning via `NtCreateUserProcess`, `NtCreateProcessEx`, `RtlCloneUserProcess`, and remote cloning via `RtlCreateProcessReflection`, including practical limitations and stability pitfalls.  
- The write-up details what is and isn’t inherited (address space, handles, tokens, jobs), why `NtCreateProcessEx` clones can’t execute threads on modern Windows, and why `RtlCloneUserProcess` is safer due to ntdll state synchronization.  
- It evaluates offensive applicability, concluding clone-based code injection is generally noisy/detectable (remote thread + handle access + ETW/driver callbacks), while clone-based memory dumping is more viable and maps to documented PSS snapshotting APIs.  
- It also highlights an under-discussed angle: writable shared/mapped regions inherited by clones can create limited cross-process tampering primitives.  
- Useful for red teamers, malware researchers, and defenders who need to understand cloning/snapshot telemetry, dumping tradeoffs, and edge-case inheritance behavior.

Technical Focus:
- Windows Native API process creation: `NtCreateUserProcess` vs `NtCreateProcessEx`
- `RtlCloneUserProcess` synchronization/loader/heap lock considerations
- Remote cloning via `RtlCreateProcessReflection` (remote thread + shared memory + events)
- Copy-on-write semantics, mapped sections inheritance (`ViewShare`/`ViewUnmap`)
- Stealthy memory dumping and Process Snapshotting (Pss*/NtPss*)
- Detection surface: Ob callbacks, Ps process/thread notify, ETW/EtwTi

Use Cases:
- Clone-based minidump creation of sensitive processes (e.g., LSASS) without suspending the target
- Researching/detecting process snapshotting and clone-based dumping tradecraft
- Building reliable “fork-like” execution in the current process (with caveat management)
- Auditing inherited handles/memory mappings to find writable shared-region tampering opportunities
- Developing tooling to compare parent vs clone memory layouts for troubleshooting crashes

Keywords:
Windows process cloning, fork, NtCreateUserProcess, NtCreateProcessEx, RtlCloneUserProcess, RtlCreateProcessReflection, PEB, TEB, STATUS_PROCESS_CLONED, PROCESS_CREATE_PROCESS, handle inheritance, job objects, copy-on-write, NtMapViewOfSection, ViewShare, ViewUnmap, MiniDumpWriteDump, LSASS dumping, Process Snapshotting, PssCaptureSnapshot, NtPss, ETW, EtwTi, ObRegisterCallbacks, PsSetCreateThreadNotifyRoutineEx, PsSetCreateProcessNotifyRoutineEx, remote thread injection