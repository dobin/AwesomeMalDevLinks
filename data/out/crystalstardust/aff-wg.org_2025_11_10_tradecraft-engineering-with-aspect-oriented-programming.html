# https://aff-wg.org/2025/11/10/tradecraft-engineering-with-aspect-oriented-programming/

<!DOCTYPE html><html lang="en" class="wf-loading wf-karla-n4-loading wf-karla-i4-loading wf-karla-n7-loading wf-karla-i7-loading">

<body class="wp-singular post-template-default single single-post postid-1109 single-format-standard wp-custom-logo wp-embed-responsive wp-theme-pubpenscratch-2 customizer-styles-applied no-sidebar jetpack-reblog-enabled categories-hidden tags-hidden author-hidden">
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="https://aff-wg.org/2025/11/10/tradecraft-engineering-with-aspect-oriented-programming/#content">Skip to content</a>
	<!-- #masthead -->

	<div id="content" class="site-content">
		
	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			
<article id="post-1109" class="post-1109 post type-post status-publish format-standard has-post-thumbnail hentry category-research">
	<!-- .entry-header -->

	<div class="entry-content">
		
<p class="wp-block-paragraph">It’s 2025 and apparently, I’m still a <a href="https://www.youtube.com/shorts/efYrw1y8q10">Java programmer</a>. One of the things I never liked about Java’s culture, going back many years ago, was the tendency to hype frameworks that seemed to over-engineer everything. One of the <a href="https://www.reddit.com/r/programming/comments/6x3ud/ask_reddit_whatever_happened_to_aspect_oriented/">hot trends</a> I never understood, was Aspect-Oriented Programming. I now have a healthy respect for AOP’s <a href="https://youtu.be/cq7wpLI0hco?si=y2G-RXWNdXdbtPmy&amp;t=3320">core ideas</a>, as there’s real overlap with <a href="https://aff-wg.org/2025/06/04/planting-a-tradecraft-garden/">Tradecraft Garden’s goals</a> and the Crystal Palace effort.</p>



<h3 class="wp-block-heading">Aspect-Oriented Programming</h3>



<p class="wp-block-paragraph"><a href="https://dl.acm.org/doi/fullHtml/10.1145/242224.242420">Aspect-Oriented Programming</a> is a paradigm to add functionality to a base program that normally <a href="https://www.ifi.uzh.ch/dam/jcr:764702da-842f-49fa-b475-5e1e148c03f2/9_AOP.pdf#page=9">needs code in a lot of places</a>, but to do it from one place. The classic example is logging. A base program might not have any logging built-in at all. Aspect-Oriented Programming is a way to take this cross-code need and uniformly apply it to different points of interest in the program. In some AOP models (as we’ll discuss here) it’s possible to add features without changing the base program at all.</p>



<figure class="wp-block-image size-large"><a href="https://www.ifi.uzh.ch/dam/jcr:764702da-842f-49fa-b475-5e1e148c03f2/9_AOP.pdf#page=9"><img data-attachment-id="1163" data-permalink="https://aff-wg.org/2025/11/10/tradecraft-engineering-with-aspect-oriented-programming/goodbadmodularity2/" data-orig-file="https://aff-wg.org/wp-content/uploads/2025/11/goodbadmodularity2.jpg" data-orig-size="1043,425" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="GoodBadModularity2" data-image-description="" data-image-caption="" data-medium-file="https://aff-wg.org/wp-content/uploads/2025/11/goodbadmodularity2.jpg?w=300" data-large-file="https://aff-wg.org/wp-content/uploads/2025/11/goodbadmodularity2.jpg?w=656" loading="lazy" width="1024" height="417" src="https://aff-wg.org/wp-content/uploads/2025/11/goodbadmodularity2.jpg?w=1024" alt="Source: Gall, Harald. Aspect-Oriented Programming: Based on the Example of AspectJ. Presentation Slides, University of Zurich. (Slides 8, 9)." class="wp-image-1163"></a></figure>



<p class="wp-block-paragraph">Aspect-Oriented Programming ideas and <a href="https://homepages.cwi.nl/~storm/teaching/reader/HannemannKiczales02.pdf">design patterns</a> are absolutely relevant to separating capability and tradecraft, whether use-case and tool agnostic (as I’m working to do) or to make a C2 modular and flexible.</p>



<p class="wp-block-paragraph">Here’s a quick run-down of <a href="https://en.wikipedia.org/wiki/Aspect-oriented_programming">Aspect-Oriented Programming vocabulary</a>:</p>



<p class="wp-block-paragraph">A <strong>cross-cutting concern</strong> is functionality one needs to apply into many places in a base program.</p>



<p class="wp-block-paragraph"><strong>Join Points </strong>are specific instrumentation opportunities or places in the program one can attach an Advice to. These are the opportunities to get into the flow of the program.</p>



<p class="wp-block-paragraph">An <strong>Advice</strong> is code that implements cross-cutting functionality.</p>



<p class="wp-block-paragraph">A <strong>Pointcut</strong> is a mechanism to define (and even dynamically select) Join Points to insert Advice into. Pointcut refers to both the mechanism and a specific query to choose Join Points.</p>



<p class="wp-block-paragraph">An <strong>Aspect</strong> is a module that packages Advices, Pointcut mechanisms, and Pointcut selectors.</p>



<p class="wp-block-paragraph">The process of adding Aspects to a program is called <strong>Weaving</strong>. There are different methods of weaving. Some AOP frameworks process source code directly. Some managed runtime AOPs dynamically generate object proxies. Some AOPs rely on binary transformations like what I’m doing with Crystal Palace. LLVM plugins that dynamically add tradecraft at compile-time is AOP and Weaving too.</p>



<p class="wp-block-paragraph">Hooking and other instrumentation techniques are a form of weaving. What separates AOP weaving from dynamic instrumentation like <a href="https://frida.re/">Frida</a>, is AOP weaved functionality is part of production use rather than a temporary and risky intrusion into running code.</p>



<h3 class="wp-block-heading">Crystal Palace PIC and AOP</h3>



<p class="wp-block-paragraph">Crystal Palace’s <a href="https://tradecraftgarden.org/simplepic.html">PIC service modules</a> are an example of Aspect-Oriented Programming. Every PIC needs to resolve functions and the specific method is often painfully tangled with the program. This is true for using (or awkwardly avoiding) global variables too. These are cross-cutting concerns.</p>



<p class="wp-block-paragraph">In Crystal Palace, Win32 API resolutions are a PIC Join Point. dfr attaches function resolution advice (the resolver) to these join points. dfr demonstrates a selective Pointcut feature too. Crystal Palace dynamically selects DFR advice for each Win32 API using its module as criteria. The end result is that a PIC capability exists blissfully agnostic to the service module that it’s paired with. This is possible because Crystal Palace weaves these Advices into the program through its binary transformation framework..</p>



<p class="wp-block-paragraph">My point summoning all of this isn’t to flex with arcane enterprise programming jargon from 20+ years ago. Rather, it’s to show that there’s a body of work on these ideas that pre-dates a niche profession’s 2025 needs. And, to highlight that others <a href="https://leapcell.io/blog/declarative-transaction-management-across-backend-frameworks">used this paradigm</a> to separate tightly coupled and disparately spread functionality into something architecturally clean, centralized, and swappable. This exists.</p>



<h3 class="wp-block-heading">Attach, Redirect, Protect, Preserve, and Optout</h3>



<p class="wp-block-paragraph">In the recent <a href="https://rastamouse.me/arranging-the-pic-parterre/">Arranging the PIC Parterre</a>, Daniel Duggan speculated:</p>



<blockquote class="wp-block-quote is-layout-flow wp-block-quote-is-layout-flow">
<p class="wp-block-paragraph">“CP’s ability to weave helper functions inline with a merged capability provides a lot of exciting potential. A feature that I think would be really useful is changing how an API call is performed after it’s been resolved… but being able to rewrite DFR functions to push execution through a similar proxy, but without having to do explicit hooking, would be awesome.”</p>
</blockquote>



<p class="wp-block-paragraph">I fully agree. And today, I’ve got another update to <a href="https://tradecraftgarden.org/crystalpalace.html">Crystal Palace</a> and <a href="https://tradecraftgarden.org/">Tradecraft Garden</a>. This update brings weaving-enabled AOP primitives to PIC and PICOs.</p>



<p class="wp-block-paragraph">One cross-cutting concern is Win32 API calls. Each Win32 API call is an opportunity to choose something equivalent, but stealthier, or to decorate the call with some sort of evasive action (e.g., prepping a fake call stack). To attach Advice (tradecraft) to a Win32 API call, we have the attach command:</p>



<p class="wp-block-paragraph"><code>attach “MODULE$Function” “_Hook1”</code></p>



<p class="wp-block-paragraph">attach disassembles our program, finds references to MODULE$Function (M$F’er), and switches instructions and relocations to use _Hook1. This is weaving.</p>



<p class="wp-block-paragraph">Crystal Palace applies these changes in a context-aware way. For example, M$F’er calls and references in _Hook1 are not updated. This means you can M$F’er from _Hook1 and access the original functionality.</p>



<p class="wp-block-paragraph">M$F’er advices stack too. Let’s add this command after the above:</p>



<p class="wp-block-paragraph"><code>attach “MODULE$Function” “_Hook2”</code></p>



<p class="wp-block-paragraph">This attach updates _Hook1’s M$F’er reference to _Hook2. _Hook2’s use of the Win32 API is untouched. A _Hook3 would update _Hook2’s reference to the API. Crystal Palace tracks this chain and knows which functions get which hooks. Each hook decides whether to call the target API and continue the chain. Hooks execute in a first-attached first-executed order.</p>



<p class="wp-block-paragraph">Crystal Palace’s model to add hooks to a capability is to merge the hooks COFF with the capability COFF. That’s the merge verb introduced a few releases ago.</p>



<p class="wp-block-paragraph">The updated <a href="https://tradecraftgarden.org/stackcutting.html">Stack Cutting</a> project in the Tradecraft Garden <a href="https://tradecraftgarden.org/stackcutting.html?file=stackcut_setup.spec">demonstrates attach</a>. This IAT hooking demo now uses attach to incept some of the PIC loader’s Win32 API calls and push them through the stack cutting call proxy. I mean, why not?</p>



<p class="wp-block-paragraph">redirect is another primitive, similar to attach. redirect targets the program’s local function calls:</p>



<p class="wp-block-paragraph"><code>redirect "function" "_hook"</code></p>



<p class="wp-block-paragraph">The semantics of redirect are like attach. Calls and references to the target function within the hook aren’t touched. And, hooks stack too. Calls to function() within _hook and its successors execute the rest of the chain.</p>



<p class="wp-block-paragraph">While redirect is awesome, don’t use it in place of the obvious. If you wish to lay functionality over a base program with a 1:1 mapping–good ol’ fashioned modular C is the <a href="https://tradecraftgarden.org/simplehook.html">right tool</a> here. Declare an undefined function in a base module, use it, and merge the chosen implementation later.</p>



<p class="wp-block-paragraph">One design pattern redirect enables is <a href="https://refactoring.guru/design-patterns/chain-of-responsibility">Chain of Responsibility</a>. Imagine a C2 agent ships with a processinject() function. Its implementation is print an “I failed” error. With redirect, an end-user could stack processinject() advices onto this function in a desired handling order. If a processinject() advice is not applicable to the context (or it fails) it calls the next processinject(). On down the chain until one succeeds or the original “I failed” is reached. merge brings processinject() advices in dynamically. Maybe a big library with a bunch of them. With link-time optimization enabled, the unused functions go away. This same pattern could apply to communication modules or any number of things. That’s the power here.</p>



<p class="wp-block-paragraph">If attach or redirect are used on a non-existing Join Point (e.g., the function or Win32 API doesn’t exist)—the command will do nothing. If link-time optimization is enabled, Advices not attached to something will get removed when the PICO or PIC is exported.</p>



<p class="wp-block-paragraph">These powerful cross-program hooking tools require ways to isolate parts of the program from these hooks. That’s what protect, preserve, and opt out are for.</p>



<p class="wp-block-paragraph">protect isolates the listed functions from all attach and redirect hooks. dprintf is opted into this automatically. Use this tool to protect debugging tools and other sensitive code.</p>



<p class="wp-block-paragraph"><code>protect "function1, function2, etc."</code></p>



<p class="wp-block-paragraph">preserve protects a specific target (local function or Win32 API) from attach and redirect hooks in the listed function contexts. Use preserve functions that need direct access to the target function or its pointer.</p>



<p class="wp-block-paragraph"><code>preserve "target|MODULE$Function" "function1, function2"</code></p>



<p class="wp-block-paragraph">optout prevents specific hooks from taking effect within a function. Use optout to isolate a tradecraft setup function from its own hooks. This makes it possible for other tradecraft to modify the setup function later.</p>



<p class="wp-block-paragraph"><code>optout "function" "hook1, hook2, hook3"</code></p>



<p class="wp-block-paragraph">When I started this work, I had ambitions to explore a many to 1 call proxy for attach and redirect. I thought I could come up with a scheme that used %rax/%eax to keep the original function pointer. But, as I thought on this further, I didn’t like it. My thought is that I would need a many to 1 proxy for each number of arguments I expect to proxy (e.g., proxy2, proxy3, etc.). I also didn’t have a means to have Advices follow function pointers. I opted to abandon this approach and go with tractable 1:1 mappings.</p>



<p class="wp-block-paragraph">I really like this implementation of attach and redirect. Nothing feels janky about it. The program output after attach and redirect is indistinguishable from the original program calling the hook function. In some cases, attach simplifies the instructions some (e.g., it detects load/call to pre-call fetch a Win32 API’s pointer from an IAT slot and simplifies this to call hook).</p>



<h3 class="wp-block-heading">Right-sized IAT Hooking</h3>



<p class="wp-block-paragraph">One of the tradecraft and capability separation models I cater to is the PIC loader paired with a DLL (or PICO) capability. Here, Win32 APIs are an of-interest Join Point. And, our method to apply Aspects/tradecraft to Win32 API calls is to hook these APIs during the load process.</p>



<p class="wp-block-paragraph">This Crystal Palace update adds some features to help with the above. addhook registers a MODULE$Function hook with Crystal Palace.</p>



<p class="wp-block-paragraph"><code>addhook “MODULE$Function” “hook”</code></p>



<p class="wp-block-paragraph">Specify as many of these as you like. Crystal Palace won’t throw an error if a MODULE$Function hook isn’t used.</p>



<p class="wp-block-paragraph">These registered hooks are used by the __resolve_hook() linker intrinsic (defined in tcg.h):</p>



<p class="wp-block-paragraph"><code>FARPROC __resolve_hook(DWORD functionHash);</code></p>



<p class="wp-block-paragraph">A linker intrinsic is a pseudo-function that expands into linker generated code later in the process. __resolve_hook() generates code to turn a Function ror13 hash into a hook.</p>



<p class="wp-block-paragraph">One of the problems with IAT hooks, is we don’t know which capability (or variation) they’re going to get attached to. And, so we run the risk of specifying too many hooks and having a bloated loader/tradecraft layer or specifying too few, in the name of code economy. This release helps with this problem too:</p>



<p class="wp-block-paragraph"><code>filterhooks $DLL</code></p>



<p class="wp-block-paragraph">The filterhooks command walks the imports of a specified $DLL or $OBJECT and removes registered hooks that aren’t needed in this capability context. What this means is our dynamically generated __resolve_hook() function only maps hashes to hooks that are needed by $DLL or $OBJECT. Pair this with link-time optimization and the unused hooks are removed when the final program is generated. Right-sized IAT hooking!</p>



<p class="wp-block-paragraph">The <a href="https://tradecraftgarden.org/simplehook.html">Simple Loader (Hooking)</a> and <a href="https://tradecraftgarden.org/stackcutting.html">Stack Cutting</a> examples demonstrate these IAT hooking features.</p>



<h3 class="wp-block-heading">Tips for Hooking</h3>



<p class="wp-block-paragraph">Here are some tips to write addhook and attach hook functions, compatible with the original API call:</p>



<ol class="wp-block-list">
<li>hook should accept the same number and type of arguments as the Win32 API you’re attaching to.<br></li>



<li>hook should have the same decorators (e.g., WINAPI) as the Win32 API you’re attaching to. These set things like the calling convention (e.g., __cdecl vs. __stdcall). If the hook and API don’t match here, it’ll bite ya—especially on x86.<br></li>



<li>Don’t decorate hooks with __declspec(dllimport) or something that aliases it (e.g., WINBASEAPI, DECLSPEC_IMPORT, etc.). Crystal Palace won’t treat these symbols like local functions.<br></li>



<li>Beware: x86 __stdcall convention function symbols have @## after the function name. Crystal Palace expects full function symbols in most places. The ## is the size (in bytes) of arguments pushed onto the stack. Multiply the number of arguments by four and you’ve guessed the ## value. If you forget @## in a symbol, Crystal Palace will throw an error–BUT it’ll also suggest which full symbol name it thinks you meant.</li>
</ol>



<h3 class="wp-block-heading">PICO Function Exports</h3>



<p class="wp-block-paragraph">This release adds PICO function exports and a PICO API to get their function pointers.</p>



<p class="wp-block-paragraph">exportfunc exports a function and assigns it a tag intrinsic:</p>



<p class="wp-block-paragraph"><code>exportfunc “function” "__tag_function"</code></p>



<p class="wp-block-paragraph">This process generates a random integer tag for the function. This tag makes the exported function discoverable via the PICO’s loading directives.</p>



<p class="wp-block-paragraph">We don’t know this hidden tag value. That’s where __tag_function() comes in. This pseudo-function is replaced with the hidden tag at link time. __tag_function() is available globally to any PIC/PICO exported after exportfunc is used.</p>



<p class="wp-block-paragraph">Here’s the prototype to declare __tag_function:</p>



<p class="wp-block-paragraph"><code>int __tag_function();</code></p>



<p class="wp-block-paragraph">Use this intrinsic with <a href="https://tradecraftgarden.org/libtcg.html">PicoGetExport</a> to get a pointer to the exported function:</p>



<p class="wp-block-paragraph"><code>PICOMAIN_FUNC pFunction = PicoGetExport(picoSrc, picoDst, __tag_function());</code></p>



<p class="wp-block-paragraph">The purpose of the tag scheme is to make dynamic linking safer. Originally, I had a manual user-assigned tag scheme. And, even I, illustrious developer of this cockamamie tool, found I couldn’t keep an integer synced between two files. I chased a crash because I forgot exportfunc too. If __tag_function() resolves–we know that exportfunc was used on a valid PICO function during this linking session.</p>



<p class="wp-block-paragraph"><a href="https://tradecraftgarden.org/simplehook.html">Simple Loader (Hooking)</a> merges two PICOs to save a memory allocation and relies on exportfunc to call code in the merged PICO. Simple Loader (Hooking) and <a href="https://tradecraftgarden.org/stackcutting.html">Stack Cutting</a> use exportfunc to make post-merge tradecraft setup APIs available between a hooks module and base loader in their shared architecture.</p>



<h3 class="wp-block-heading">Migration Notes</h3>



<p class="wp-block-paragraph">(1) I’ve changed the function signatures of findFunctionByHash and findModuleByHash in <a href="https://tradecraftgarden.org/libtcg.html?file=tcg.h">tcg.h</a> to use the right types. You’ll need to update your DFR resolvers to keep the compiler happy:</p>


<div class="wp-block-syntaxhighlighter-code "><div><div id="highlighter_476004" class="syntaxhighlighter  cpp"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp plain">FARPROC resolve(</code><code class="cpp color1 bold">DWORD</code> <code class="cpp plain">modHash, </code><code class="cpp color1 bold">DWORD</code> <code class="cpp plain">funcHash) {</code></div><div class="line number2 index1 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">HANDLE</code> <code class="cpp plain">hModule = findModuleByHash(modHash);</code></div><div class="line number3 index2 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp plain">findFunctionByHash(hModule, funcHash);</code></div><div class="line number4 index3 alt1"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div></div>


<p class="wp-block-paragraph">(2) I’ve removed reladdr from Crystal Palace and revoked permission for linked contents to use partial pointers. <strong><a href="https://tradecraftgarden.org/docs.html#fixptrs">fixptrs</a></strong> is now required for x86 PIC doing anything interesting.</p>



<h3 class="wp-block-heading">Closing Thoughts</h3>



<p class="wp-block-paragraph">I led this post with Aspect-Oriented Programming for good reason. Aspect-Oriented Programming is an instrumentation-enabled programming paradigm. AOP does not replace modular C programming. Instead, it’s a complement to layer cross-program changes onto a base program. Evasion tradecraft is a cross-cutting program concern that benefits from AOP-style tools.</p>



<p class="wp-block-paragraph">While Crystal Palace continues to serve the PIC loader + DLL capability problem set, I think this technology’s most exciting when using PICOs (usable as PIC or with a loader) as an AOP-friendly canvas to compose fully realized tradecraft demonstrations onto.</p>



<p class="wp-block-paragraph">To see what’s new, check out the <a href="https://tradecraftgarden.org/releasenotes.txt">release notes</a>.</p>
			</div><!-- .entry-content -->

	<!-- .entry-footer -->

	</article><!-- #post-## -->

			
	
			
		
		</main><!-- #main -->
	</div><!-- #primary -->


	</div><!-- #content -->

	<!-- #colophon -->
</div><!-- #page -->

<!--  -->





	

		<div style="display:none">
	</div>
		<div id="actionbar" dir="ltr" class="actnbr-pub-penscratch-2 actnbr-has-follow actnbr-has-actions">
		<ul>
								<li class="actnbr-btn actnbr-hidden">
								<a class="actnbr-action actnbr-actn-follow " href="https://aff-wg.org/2025/11/10/tradecraft-engineering-with-aspect-oriented-programming/">
			<svg class="gridicon" height="20" width="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path clip-rule="evenodd" d="m4 4.5h12v6.5h1.5v-6.5-1.5h-1.5-12-1.5v1.5 10.5c0 1.1046.89543 2 2 2h7v-1.5h-7c-.27614 0-.5-.2239-.5-.5zm10.5 2h-9v1.5h9zm-5 3h-4v1.5h4zm3.5 1.5h-1v1h1zm-1-1.5h-1.5v1.5 1 1.5h1.5 1 1.5v-1.5-1-1.5h-1.5zm-2.5 2.5h-4v1.5h4zm6.5 1.25h1.5v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25z" fill-rule="evenodd"></path></svg>
			<span>Subscribe</span>
		</a>
		<a class="actnbr-action actnbr-actn-following  no-display" href="https://aff-wg.org/2025/11/10/tradecraft-engineering-with-aspect-oriented-programming/">
			<svg class="gridicon" height="20" width="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 4.5H4V15C4 15.2761 4.22386 15.5 4.5 15.5H11.5V17H4.5C3.39543 17 2.5 16.1046 2.5 15V4.5V3H4H16H17.5V4.5V12.5H16V4.5ZM5.5 6.5H14.5V8H5.5V6.5ZM5.5 9.5H9.5V11H5.5V9.5ZM12 11H13V12H12V11ZM10.5 9.5H12H13H14.5V11V12V13.5H13H12H10.5V12V11V9.5ZM5.5 12H9.5V13.5H5.5V12Z" fill="#008A20"></path><path class="following-icon-tick" d="M13.5 16L15.5 18L19 14.5" stroke="#008A20" stroke-width="1.5"></path></svg>
			<span>Subscribed</span>
		</a>
							<div class="actnbr-popover tip tip-top-left actnbr-notice" id="follow-bubble">
							<div class="tip-arrow"></div>
							<div class="tip-inner actnbr-follow-bubble">
															<ul>
											<li class="actnbr-sitename">
			<a href="https://aff-wg.org/">
				<img loading="lazy" alt="" src="https://aff-wg.org/wp-content/uploads/2024/08/cropped-affwgsiteimage_nowreath.png?w=50" class="avatar avatar-50" height="50" width="50">				Adversary Fan Fiction Writers Guild			</a>
		</li>
										<div class="actnbr-message no-display"></div>
									<form method="post" action="https://subscribe.wordpress.com/" accept-charset="utf-8" style="display: none;">
																						<div class="actnbr-follow-count">Join 97 other subscribers</div>
																					<div>
										<input type="email" name="email" placeholder="Enter your email address" class="actnbr-email-field" aria-label="Enter your email address">
										</div>
										
										
										
										
																				<div class="actnbr-button-wrap">
											<button type="submit" value="Sign me up">
												Sign me up											</button>
										</div>
									</form>
									<li class="actnbr-login-nudge">
										<div>
											Already have a WordPress.com account? <a href="https://wordpress.com/log-in?redirect_to=https%3A%2F%2Fr-login.wordpress.com%2Fremote-login.php%3Faction%3Dlink%26back%3Dhttps%253A%252F%252Faff-wg.org%252F2025%252F11%252F10%252Ftradecraft-engineering-with-aspect-oriented-programming%252F">Log in now.</a>										</div>
									</li>
								</ul>
															</div>
						</div>
					</li>
							<li class="actnbr-ellipsis actnbr-hidden">
				<svg class="gridicon gridicons-ellipsis" height="24" width="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M7 12c0 1.104-.896 2-2 2s-2-.896-2-2 .896-2 2-2 2 .896 2 2zm12-2c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm-7 0c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2z"></path></g></svg>				<div class="actnbr-popover tip tip-top-left actnbr-more">
					<div class="tip-arrow"></div>
					<div class="tip-inner">
						<ul>
								<li class="actnbr-sitename">
			<a href="https://aff-wg.org/">
				<img loading="lazy" alt="" src="https://aff-wg.org/wp-content/uploads/2024/08/cropped-affwgsiteimage_nowreath.png?w=50" class="avatar avatar-50" height="50" width="50">				Adversary Fan Fiction Writers Guild			</a>
		</li>
								<li class="actnbr-folded-follow">
										<a class="actnbr-action actnbr-actn-follow " href="https://aff-wg.org/2025/11/10/tradecraft-engineering-with-aspect-oriented-programming/">
			<svg class="gridicon" height="20" width="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path clip-rule="evenodd" d="m4 4.5h12v6.5h1.5v-6.5-1.5h-1.5-12-1.5v1.5 10.5c0 1.1046.89543 2 2 2h7v-1.5h-7c-.27614 0-.5-.2239-.5-.5zm10.5 2h-9v1.5h9zm-5 3h-4v1.5h4zm3.5 1.5h-1v1h1zm-1-1.5h-1.5v1.5 1 1.5h1.5 1 1.5v-1.5-1-1.5h-1.5zm-2.5 2.5h-4v1.5h4zm6.5 1.25h1.5v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25z" fill-rule="evenodd"></path></svg>
			<span>Subscribe</span>
		</a>
		<a class="actnbr-action actnbr-actn-following  no-display" href="https://aff-wg.org/2025/11/10/tradecraft-engineering-with-aspect-oriented-programming/">
			<svg class="gridicon" height="20" width="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 4.5H4V15C4 15.2761 4.22386 15.5 4.5 15.5H11.5V17H4.5C3.39543 17 2.5 16.1046 2.5 15V4.5V3H4H16H17.5V4.5V12.5H16V4.5ZM5.5 6.5H14.5V8H5.5V6.5ZM5.5 9.5H9.5V11H5.5V9.5ZM12 11H13V12H12V11ZM10.5 9.5H12H13H14.5V11V12V13.5H13H12H10.5V12V11V9.5ZM5.5 12H9.5V13.5H5.5V12Z" fill="#008A20"></path><path class="following-icon-tick" d="M13.5 16L15.5 18L19 14.5" stroke="#008A20" stroke-width="1.5"></path></svg>
			<span>Subscribed</span>
		</a>
								</li>
														<li class="actnbr-signup"><a href="https://wordpress.com/start/">Sign up</a></li>
							<li class="actnbr-login"><a href="https://wordpress.com/log-in?redirect_to=https%3A%2F%2Fr-login.wordpress.com%2Fremote-login.php%3Faction%3Dlink%26back%3Dhttps%253A%252F%252Faff-wg.org%252F2025%252F11%252F10%252Ftradecraft-engineering-with-aspect-oriented-programming%252F">Log in</a></li>
																<li class="actnbr-shortlink">
										<a href="https://wp.me/pfXSCG-hT">
											<span class="actnbr-shortlink__text">Copy shortlink</span>
											<span class="actnbr-shortlink__icon"><svg class="gridicon gridicons-checkmark" height="16" width="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M9 19.414l-6.707-6.707 1.414-1.414L9 16.586 20.293 5.293l1.414 1.414"></path></g></svg></span>
										</a>
									</li>
																<li class="flb-report">
									<a href="https://wordpress.com/abuse/?report_url=https://aff-wg.org/2025/11/10/tradecraft-engineering-with-aspect-oriented-programming/" target="_blank" rel="noopener noreferrer">
										Report this content									</a>
								</li>
															<li class="actnbr-reader">
									<a href="https://wordpress.com/reader/blogs/235916366/posts/1109">
										View post in Reader									</a>
								</li>
															<li class="actnbr-subs">
									<a href="https://subscribe.wordpress.com/">Manage subscriptions</a>
								</li>
																<li class="actnbr-fold"><a href="https://aff-wg.org/2025/11/10/tradecraft-engineering-with-aspect-oriented-programming/">Collapse this bar</a></li>
														</ul>
					</div>
				</div>
			</li>
		</ul>
	</div>
	


			<div id="jp-carousel-loading-overlay">
			<div id="jp-carousel-loading-wrapper">
				<span id="jp-carousel-library-loading">&nbsp;</span>
			</div>
		</div>
		<div class="jp-carousel-overlay" style="display: none;">

		<div class="jp-carousel-container">
			<!-- The Carousel Swiper -->
			<div class="jp-carousel-wrap swiper jp-carousel-swiper-container jp-carousel-transitions" itemscope="" itemtype="https://schema.org/ImageGallery">
				<div class="jp-carousel swiper-wrapper"></div>
				<div class="jp-swiper-button-prev swiper-button-prev">
					<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<mask id="maskPrev" mask-type="alpha" maskUnits="userSpaceOnUse" x="8" y="6" width="9" height="12">
							<path d="M16.2072 16.59L11.6496 12L16.2072 7.41L14.8041 6L8.8335 12L14.8041 18L16.2072 16.59Z" fill="white"></path>
						</mask>
						<g mask="url(#maskPrev)">
							<rect x="0.579102" width="23.8823" height="24" fill="#FFFFFF"></rect>
						</g>
					</svg>
				</div>
				<div class="jp-swiper-button-next swiper-button-next">
					<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<mask id="maskNext" mask-type="alpha" maskUnits="userSpaceOnUse" x="8" y="6" width="8" height="12">
							<path d="M8.59814 16.59L13.1557 12L8.59814 7.41L10.0012 6L15.9718 12L10.0012 18L8.59814 16.59Z" fill="white"></path>
						</mask>
						<g mask="url(#maskNext)">
							<rect x="0.34375" width="23.8822" height="24" fill="#FFFFFF"></rect>
						</g>
					</svg>
				</div>
			</div>
			<!-- The main close buton -->
			<div class="jp-carousel-close-hint">
				<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
					<mask id="maskClose" mask-type="alpha" maskUnits="userSpaceOnUse" x="5" y="5" width="15" height="14">
						<path d="M19.3166 6.41L17.9135 5L12.3509 10.59L6.78834 5L5.38525 6.41L10.9478 12L5.38525 17.59L6.78834 19L12.3509 13.41L17.9135 19L19.3166 17.59L13.754 12L19.3166 6.41Z" fill="white"></path>
					</mask>
					<g mask="url(#maskClose)">
						<rect x="0.409668" width="23.8823" height="24" fill="#FFFFFF"></rect>
					</g>
				</svg>
			</div>
			<!-- Image info, comments and meta -->
			<div class="jp-carousel-info">
				<div class="jp-carousel-info-footer">
					<div class="jp-carousel-pagination-container">
						<div class="jp-swiper-pagination swiper-pagination"></div>
						<div class="jp-carousel-pagination"></div>
					</div>
					<div class="jp-carousel-photo-title-container">
						<h2 class="jp-carousel-photo-caption"></h2>
					</div>
					<div class="jp-carousel-photo-icons-container">
						<a href="https://aff-wg.org/2025/11/10/tradecraft-engineering-with-aspect-oriented-programming/#" class="jp-carousel-icon-btn jp-carousel-icon-info" aria-label="Toggle photo metadata visibility">
							<span class="jp-carousel-icon">
								<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<mask id="maskInfo" mask-type="alpha" maskUnits="userSpaceOnUse" x="2" y="2" width="21" height="20">
										<path fill-rule="evenodd" clip-rule="evenodd" d="M12.7537 2C7.26076 2 2.80273 6.48 2.80273 12C2.80273 17.52 7.26076 22 12.7537 22C18.2466 22 22.7046 17.52 22.7046 12C22.7046 6.48 18.2466 2 12.7537 2ZM11.7586 7V9H13.7488V7H11.7586ZM11.7586 11V17H13.7488V11H11.7586ZM4.79292 12C4.79292 16.41 8.36531 20 12.7537 20C17.142 20 20.7144 16.41 20.7144 12C20.7144 7.59 17.142 4 12.7537 4C8.36531 4 4.79292 7.59 4.79292 12Z" fill="white"></path>
									</mask>
									<g mask="url(#maskInfo)">
										<rect x="0.8125" width="23.8823" height="24" fill="#FFFFFF"></rect>
									</g>
								</svg>
							</span>
						</a>
												<a href="https://aff-wg.org/2025/11/10/tradecraft-engineering-with-aspect-oriented-programming/#" class="jp-carousel-icon-btn jp-carousel-icon-comments" aria-label="Toggle photo comments visibility">
							<span class="jp-carousel-icon">
								<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<mask id="maskComments" mask-type="alpha" maskUnits="userSpaceOnUse" x="2" y="2" width="21" height="20">
										<path fill-rule="evenodd" clip-rule="evenodd" d="M4.3271 2H20.2486C21.3432 2 22.2388 2.9 22.2388 4V16C22.2388 17.1 21.3432 18 20.2486 18H6.31729L2.33691 22V4C2.33691 2.9 3.2325 2 4.3271 2ZM6.31729 16H20.2486V4H4.3271V18L6.31729 16Z" fill="white"></path>
									</mask>
									<g mask="url(#maskComments)">
										<rect x="0.34668" width="23.8823" height="24" fill="#FFFFFF"></rect>
									</g>
								</svg>

								<span class="jp-carousel-has-comments-indicator" aria-label="This image has comments."></span>
							</span>
						</a>
											</div>
				</div>
				<div class="jp-carousel-info-extra">
					<div class="jp-carousel-info-content-wrapper">
						<div class="jp-carousel-photo-title-container">
							<h2 class="jp-carousel-photo-title"></h2>
						</div>
						<div class="jp-carousel-comments-wrapper">
															<div id="jp-carousel-comments-loading">
									<span>Loading Comments...</span>
								</div>
								<div class="jp-carousel-comments"></div>
								<div id="jp-carousel-comment-form-container">
									<span id="jp-carousel-comment-form-spinner">&nbsp;</span>
									<div id="jp-carousel-comment-post-results"></div>
																														<form id="jp-carousel-comment-form">
												<label for="jp-carousel-comment-form-comment-field" class="screen-reader-text">Write a Comment...</label>
												<textarea name="comment" class="jp-carousel-comment-form-field jp-carousel-comment-form-textarea" id="jp-carousel-comment-form-comment-field" placeholder="Write a Comment..."></textarea>
												<div id="jp-carousel-comment-form-submit-and-info-wrapper">
													<div id="jp-carousel-comment-form-commenting-as">
																													<fieldset>
																<label for="jp-carousel-comment-form-email-field">Email (Required)</label>
																<input type="text" name="email" class="jp-carousel-comment-form-field jp-carousel-comment-form-text-field" id="jp-carousel-comment-form-email-field">
															</fieldset>
															<fieldset>
																<label for="jp-carousel-comment-form-author-field">Name (Required)</label>
																<input type="text" name="author" class="jp-carousel-comment-form-field jp-carousel-comment-form-text-field" id="jp-carousel-comment-form-author-field">
															</fieldset>
															<fieldset>
																<label for="jp-carousel-comment-form-url-field">Website</label>
																<input type="text" name="url" class="jp-carousel-comment-form-field jp-carousel-comment-form-text-field" id="jp-carousel-comment-form-url-field">
															</fieldset>
																											</div>
													<input type="submit" name="submit" class="jp-carousel-comment-form-button" id="jp-carousel-comment-form-button-submit" value="Post Comment">
												</div>
											</form>
																											</div>
													</div>
						<div class="jp-carousel-image-meta">
							<div class="jp-carousel-title-and-caption">
								<div class="jp-carousel-photo-info">
									<h3 class="jp-carousel-caption" itemprop="caption description"></h3>
								</div>

								<div class="jp-carousel-photo-description"></div>
							</div>
							<ul class="jp-carousel-image-exif" style="display: none;"></ul>
							<a class="jp-carousel-image-download" href="https://aff-wg.org/2025/11/10/tradecraft-engineering-with-aspect-oriented-programming/#" target="_blank" style="display: none;">
								<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="3" y="3" width="19" height="18">
										<path fill-rule="evenodd" clip-rule="evenodd" d="M5.84615 5V19H19.7775V12H21.7677V19C21.7677 20.1 20.8721 21 19.7775 21H5.84615C4.74159 21 3.85596 20.1 3.85596 19V5C3.85596 3.9 4.74159 3 5.84615 3H12.8118V5H5.84615ZM14.802 5V3H21.7677V10H19.7775V6.41L9.99569 16.24L8.59261 14.83L18.3744 5H14.802Z" fill="white"></path>
									</mask>
									<g mask="url(#mask0)">
										<rect x="0.870605" width="23.8823" height="24" fill="#FFFFFF"></rect>
									</g>
								</svg>
								<span class="jp-carousel-download-text"></span>
							</a>
							<div class="jp-carousel-image-map" style="display: none;"></div>
						</div>
					</div>
				</div>
			</div>
		</div>

		</div>
		


	










 


		 	


<div class="comment-likes-overlay" style="display: none;"></div></body></html>