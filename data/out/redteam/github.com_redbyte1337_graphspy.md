# https://github.com/RedByte1337/GraphSpy

[Skip to content](https://github.com/RedByte1337/GraphSpy#start-of-content)

You signed in with another tab or window. [Reload](https://github.com/RedByte1337/GraphSpy) to refresh your session.You signed out in another tab or window. [Reload](https://github.com/RedByte1337/GraphSpy) to refresh your session.You switched accounts on another tab or window. [Reload](https://github.com/RedByte1337/GraphSpy) to refresh your session.Dismiss alert

{{ message }}

[RedByte1337](https://github.com/RedByte1337)/ **[GraphSpy](https://github.com/RedByte1337/GraphSpy)** Public

- [Sponsor](https://github.com/sponsors/RedByte1337)
- [Notifications](https://github.com/login?return_to=%2FRedByte1337%2FGraphSpy) You must be signed in to change notification settings
- [Fork\\
121](https://github.com/login?return_to=%2FRedByte1337%2FGraphSpy)
- [Star\\
1k](https://github.com/login?return_to=%2FRedByte1337%2FGraphSpy)


Initial Access and Post-Exploitation Tool for AAD and O365 with a browser-based GUI


### License

[BSD-3-Clause license](https://github.com/RedByte1337/GraphSpy/blob/master/LICENSE.txt)

[1k\\
stars](https://github.com/RedByte1337/GraphSpy/stargazers) [121\\
forks](https://github.com/RedByte1337/GraphSpy/forks) [Branches](https://github.com/RedByte1337/GraphSpy/branches) [Tags](https://github.com/RedByte1337/GraphSpy/tags) [Activity](https://github.com/RedByte1337/GraphSpy/activity)

[Star](https://github.com/login?return_to=%2FRedByte1337%2FGraphSpy)

[Notifications](https://github.com/login?return_to=%2FRedByte1337%2FGraphSpy) You must be signed in to change notification settings

# RedByte1337/GraphSpy

master

[**1** Branch](https://github.com/RedByte1337/GraphSpy/branches) [**0** Tags](https://github.com/RedByte1337/GraphSpy/tags)

[Go to Branches page](https://github.com/RedByte1337/GraphSpy/branches)[Go to Tags page](https://github.com/RedByte1337/GraphSpy/tags)

Go to file

Code

Open more actions menu

## Folders and files

| Name | Name | Last commit message | Last commit date |
| --- | --- | --- | --- |
| ## Latest commit<br>[![RedByte1337](https://avatars.githubusercontent.com/u/8005550?v=4&size=40)](https://github.com/RedByte1337)[RedByte1337](https://github.com/RedByte1337/GraphSpy/commits?author=RedByte1337)<br>[Update version to 1.6.1 - Refactoring](https://github.com/RedByte1337/GraphSpy/commit/ad85540491897c060f459783126416accff95fca)<br>2 months agoDec 31, 2025<br>[ad85540](https://github.com/RedByte1337/GraphSpy/commit/ad85540491897c060f459783126416accff95fca) · 2 months agoDec 31, 2025<br>## History<br>[75 Commits](https://github.com/RedByte1337/GraphSpy/commits/master/) <br>Open commit details<br>[View commit history for this file.](https://github.com/RedByte1337/GraphSpy/commits/master/) 75 Commits |
| [.github](https://github.com/RedByte1337/GraphSpy/tree/master/.github ".github") | [.github](https://github.com/RedByte1337/GraphSpy/tree/master/.github ".github") | [1.5.0 Release - Outlook Graph Module](https://github.com/RedByte1337/GraphSpy/commit/13d280488b5f4f91e5c874284f4252a33338cc5b "1.5.0 Release - Outlook Graph Module") | 10 months agoApr 29, 2025 |
| [images](https://github.com/RedByte1337/GraphSpy/tree/master/images "images") | [images](https://github.com/RedByte1337/GraphSpy/tree/master/images "images") | [Release version 1.6.0 with Updated README for new features related to…](https://github.com/RedByte1337/GraphSpy/commit/239dd3fbbe4a716c50227b5932c988a38911e04e "Release version 1.6.0 with Updated README for new features related to PRTs, WinHello, auto device code actions, etc...") | 2 months agoDec 26, 2025 |
| [src/graphspy](https://github.com/RedByte1337/GraphSpy/tree/master/src/graphspy "This path skips through empty directories") | [src/graphspy](https://github.com/RedByte1337/GraphSpy/tree/master/src/graphspy "This path skips through empty directories") | [refactor: migrate to modern PyPA packaging with PEP 621 (](https://github.com/RedByte1337/GraphSpy/commit/9dc2f0276b994423d289f287603285efab58be7b "refactor: migrate to modern PyPA packaging with PEP 621 (#15)  * enhancement: make the project PEP 621-compliant  * Remove main entry point check in cli.py  Removed the main entry point check for the script.  * remove poetry.toml  * Update .gitignore to include additional environment and build files  * Remove unnecessary files: MANIFEST.in, requirements.txt, and setup.py  * refactor: PyPa modern packaging and PEP 621  * chore: update package versions in poetry.lock  * refactor: dependencies  * Review of dependancy versions and uv.lock file  ---------  Co-authored-by: RedByte") [#15](https://github.com/RedByte1337/GraphSpy/pull/15) [)](https://github.com/RedByte1337/GraphSpy/commit/9dc2f0276b994423d289f287603285efab58be7b "refactor: migrate to modern PyPA packaging with PEP 621 (#15)  * enhancement: make the project PEP 621-compliant  * Remove main entry point check in cli.py  Removed the main entry point check for the script.  * remove poetry.toml  * Update .gitignore to include additional environment and build files  * Remove unnecessary files: MANIFEST.in, requirements.txt, and setup.py  * refactor: PyPa modern packaging and PEP 621  * chore: update package versions in poetry.lock  * refactor: dependencies  * Review of dependancy versions and uv.lock file  ---------  Co-authored-by: RedByte") | 2 months agoDec 31, 2025 |
| [.gitattributes](https://github.com/RedByte1337/GraphSpy/blob/master/.gitattributes ".gitattributes") | [.gitattributes](https://github.com/RedByte1337/GraphSpy/blob/master/.gitattributes ".gitattributes") | [Add project files.](https://github.com/RedByte1337/GraphSpy/commit/d5cd31584d93dd9606d1838099dc3991a156c84a "Add project files.") | 2 years agoFeb 7, 2024 |
| [.gitignore](https://github.com/RedByte1337/GraphSpy/blob/master/.gitignore ".gitignore") | [.gitignore](https://github.com/RedByte1337/GraphSpy/blob/master/.gitignore ".gitignore") | [refactor: migrate to modern PyPA packaging with PEP 621 (](https://github.com/RedByte1337/GraphSpy/commit/9dc2f0276b994423d289f287603285efab58be7b "refactor: migrate to modern PyPA packaging with PEP 621 (#15)  * enhancement: make the project PEP 621-compliant  * Remove main entry point check in cli.py  Removed the main entry point check for the script.  * remove poetry.toml  * Update .gitignore to include additional environment and build files  * Remove unnecessary files: MANIFEST.in, requirements.txt, and setup.py  * refactor: PyPa modern packaging and PEP 621  * chore: update package versions in poetry.lock  * refactor: dependencies  * Review of dependancy versions and uv.lock file  ---------  Co-authored-by: RedByte") [#15](https://github.com/RedByte1337/GraphSpy/pull/15) [)](https://github.com/RedByte1337/GraphSpy/commit/9dc2f0276b994423d289f287603285efab58be7b "refactor: migrate to modern PyPA packaging with PEP 621 (#15)  * enhancement: make the project PEP 621-compliant  * Remove main entry point check in cli.py  Removed the main entry point check for the script.  * remove poetry.toml  * Update .gitignore to include additional environment and build files  * Remove unnecessary files: MANIFEST.in, requirements.txt, and setup.py  * refactor: PyPa modern packaging and PEP 621  * chore: update package versions in poetry.lock  * refactor: dependencies  * Review of dependancy versions and uv.lock file  ---------  Co-authored-by: RedByte") | 2 months agoDec 31, 2025 |
| [LICENSE.txt](https://github.com/RedByte1337/GraphSpy/blob/master/LICENSE.txt "LICENSE.txt") | [LICENSE.txt](https://github.com/RedByte1337/GraphSpy/blob/master/LICENSE.txt "LICENSE.txt") | [Add project files.](https://github.com/RedByte1337/GraphSpy/commit/d5cd31584d93dd9606d1838099dc3991a156c84a "Add project files.") | 2 years agoFeb 7, 2024 |
| [README.md](https://github.com/RedByte1337/GraphSpy/blob/master/README.md "README.md") | [README.md](https://github.com/RedByte1337/GraphSpy/blob/master/README.md "README.md") | [Update README.md](https://github.com/RedByte1337/GraphSpy/commit/c7321b3e5a7fccc64dbbcc38ead366d3bdd50f4d "Update README.md  1.6.0 release readme updated with new features") | 2 months agoDec 26, 2025 |
| [pyproject.toml](https://github.com/RedByte1337/GraphSpy/blob/master/pyproject.toml "pyproject.toml") | [pyproject.toml](https://github.com/RedByte1337/GraphSpy/blob/master/pyproject.toml "pyproject.toml") | [Update version to 1.6.1 - Refactoring](https://github.com/RedByte1337/GraphSpy/commit/ad85540491897c060f459783126416accff95fca "Update version to 1.6.1 - Refactoring") | 2 months agoDec 31, 2025 |
| [uv.lock](https://github.com/RedByte1337/GraphSpy/blob/master/uv.lock "uv.lock") | [uv.lock](https://github.com/RedByte1337/GraphSpy/blob/master/uv.lock "uv.lock") | [refactor: migrate to modern PyPA packaging with PEP 621 (](https://github.com/RedByte1337/GraphSpy/commit/9dc2f0276b994423d289f287603285efab58be7b "refactor: migrate to modern PyPA packaging with PEP 621 (#15)  * enhancement: make the project PEP 621-compliant  * Remove main entry point check in cli.py  Removed the main entry point check for the script.  * remove poetry.toml  * Update .gitignore to include additional environment and build files  * Remove unnecessary files: MANIFEST.in, requirements.txt, and setup.py  * refactor: PyPa modern packaging and PEP 621  * chore: update package versions in poetry.lock  * refactor: dependencies  * Review of dependancy versions and uv.lock file  ---------  Co-authored-by: RedByte") [#15](https://github.com/RedByte1337/GraphSpy/pull/15) [)](https://github.com/RedByte1337/GraphSpy/commit/9dc2f0276b994423d289f287603285efab58be7b "refactor: migrate to modern PyPA packaging with PEP 621 (#15)  * enhancement: make the project PEP 621-compliant  * Remove main entry point check in cli.py  Removed the main entry point check for the script.  * remove poetry.toml  * Update .gitignore to include additional environment and build files  * Remove unnecessary files: MANIFEST.in, requirements.txt, and setup.py  * refactor: PyPa modern packaging and PEP 621  * chore: update package versions in poetry.lock  * refactor: dependencies  * Review of dependancy versions and uv.lock file  ---------  Co-authored-by: RedByte") | 2 months agoDec 31, 2025 |
| View all files |

## Repository files navigation

[![PyPi Version](https://camo.githubusercontent.com/c447ef47071c4959b36c54eef6d7517d8edba324ef5e94e06624ba9b97be194f/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f47726170685370792e737667)](https://pypi.org/project/GraphSpy/)[![Python Version](https://camo.githubusercontent.com/bd7bcdc70784bad7073b66850c51f4fed5dc3b2fc782277551b9013c7d27f043/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f707974686f6e2d332e382b2d626c75652e737667)](https://camo.githubusercontent.com/bd7bcdc70784bad7073b66850c51f4fed5dc3b2fc782277551b9013c7d27f043/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f707974686f6e2d332e382b2d626c75652e737667)[![GitHub Sponsors](https://camo.githubusercontent.com/324b1cb3d6bc5220716311a783e319ec0782fc2d7772d1cbf7c763f7a1302363/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73706f6e736f72732f52656442797465313333373f7374796c653d666c6174266c6f676f3d67697468756273706f6e736f7273)](https://github.com/sponsors/RedByte1337)[![Twitter](https://camo.githubusercontent.com/41c24aad2b9004bdf86df728e3ee9fc0725e713c901ebece98906a136f9855e6/68747470733a2f2f696d672e736869656c64732e696f2f747769747465722f666f6c6c6f772f52656442797465313333373f6c6162656c3d5265644279746531333337267374796c653d736f6369616c)](https://twitter.com/intent/follow?screen_name=RedByte1337)[![LinkedIn](https://camo.githubusercontent.com/7c53734ef87e258e00bff9191a18f837781435df03c426d403d31cdb65090c17/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f696e2d4b65616e755f4e79732d77686974653f7374796c653d666c6174266c6f676f436f6c6f723d626c7565266c6162656c436f6c6f723d626c7565)](https://www.linkedin.com/in/keanunys/)

# GraphSpy

[Permalink: GraphSpy](https://github.com/RedByte1337/GraphSpy#graphspy)

```
   ________                             _________
  /       /  by RedByte1337    __      /        /
 /  _____/___________  ______ |  |__  /   _____/_____ ______
/   \  __\_  __ \__  \ \____ \|  |  \ \_____  \\____ \   |  |
\    \_\  \  | \/  __ \|  |_> |   \  \/        \  |_> \___  |
 \______  /__|  |____  |   __/|___|  /_______  /   ___/ ____|
        \/           \/|__|        \/        \/|__|   \/
```

# Table of Contents

[Permalink: Table of Contents](https://github.com/RedByte1337/GraphSpy#table-of-contents)

- [GraphSpy](https://github.com/RedByte1337/GraphSpy#graphspy)
- [Table of Contents](https://github.com/RedByte1337/GraphSpy#table-of-contents)
- [Quick Start](https://github.com/RedByte1337/GraphSpy#quick-start)
  - [Installation](https://github.com/RedByte1337/GraphSpy#installation)
  - [Execution](https://github.com/RedByte1337/GraphSpy#execution)
  - [Usage](https://github.com/RedByte1337/GraphSpy#usage)
- [Features](https://github.com/RedByte1337/GraphSpy#features)
- [Release Notes](https://github.com/RedByte1337/GraphSpy#release-notes)
- [Upcoming Features](https://github.com/RedByte1337/GraphSpy#upcoming-features)
- [Sponsors](https://github.com/RedByte1337/GraphSpy#sponsors)
- [Credits](https://github.com/RedByte1337/GraphSpy#credits)

# Quick Start

[Permalink: Quick Start](https://github.com/RedByte1337/GraphSpy#quick-start)

## Installation

[Permalink: Installation](https://github.com/RedByte1337/GraphSpy#installation)

The following goes over the recommended installation process using pipx to avoid any dependency conflicts.

GraphSpy is built to work on every operating system, although it was mainly tested on Linux and Windows.

For other installation options and detailed instructions, check the [Installation page](https://github.com/RedByte1337/GraphSpy/wiki/Installation) on the wiki.

```
# Install pipx (skip this if you already have it)
apt install pipx
pipx ensurepath

# Install the latest version of GraphSpy from pypi
pipx install graphspy
```

## Execution

[Permalink: Execution](https://github.com/RedByte1337/GraphSpy#execution)

After installation, the application can be launched using the `graphspy` command from any location on the system.

Running GraphSpy without any command line arguments will launch GraphSpy and make it available at `http://127.0.0.1:5000` by default.

```
graphspy
```

Now simply open `http://127.0.0.1:5000` in your favorite browser to get started!

Use the `-i` and `-p` arguments to modify the interface and port to listen on.

```
# Run GraphSpy on http://192.168.0.10
graphspy -i 192.168.0.10 -p 80
# Run GraphSpy on port 8080 on all interfaces
graphspy -i 0.0.0.0 -p 8080
```

For detailed instructions and other command line arguments, please refer to the [Execution page](https://github.com/RedByte1337/GraphSpy/wiki/Execution) on the wiki.

## Usage

[Permalink: Usage](https://github.com/RedByte1337/GraphSpy#usage)

Please refer to the [GitHub Wiki](https://github.com/RedByte1337/GraphSpy/wiki) for full usage details.

For a quick feature overview, check out the [official release blog post](https://insights.spotit.be/2024/04/05/graphspy-the-swiss-army-knife-for-attacking-m365-entra/).

# Features

[Permalink: Features](https://github.com/RedByte1337/GraphSpy#features)

## Access and Refresh Tokens

[Permalink: Access and Refresh Tokens](https://github.com/RedByte1337/GraphSpy#access-and-refresh-tokens)

Store your access and refresh tokens for multiple users and scopes in one location.

[![Access Tokens](https://github.com/RedByte1337/GraphSpy/raw/master/images/access_tokens_1.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/access_tokens_1.png)

[![Refresh Tokens](https://github.com/RedByte1337/GraphSpy/raw/master/images/refresh_tokens.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/refresh_tokens.png)

Easily switch between them or request new access tokens from any page.

[![Token Side Bar](https://github.com/RedByte1337/GraphSpy/raw/master/images/token_side_bar_1.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/token_side_bar_1.png)

## Device Codes

[Permalink: Device Codes](https://github.com/RedByte1337/GraphSpy#device-codes)

Easily create and poll multiple device codes at once. If a user used the device code to authenticate, GraphSpy will automatically store the access and refresh token in its database.

[![Device Codes](https://github.com/RedByte1337/GraphSpy/raw/master/images/device_codes.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/device_codes.png)

Configure automatic actions to take place instantly after a successful device code authentication.

1. **Device PRT:** Register/join a new device to Entra ID, obtain the device certificate, and use it to generate a [Primary Refresh Token (PRT)](https://github.com/RedByte1337/GraphSpy#primary-refresh-tokens-prts)
2. **Winhello:** Everything in Device PRT + try to enroll the fake device with Windows Hello For Business (whfb) to obtain [WinHello keys](https://github.com/RedByte1337/GraphSpy#windows-hello-for-business).
3. More to come later...

[![Device Code Winhello Action](https://github.com/RedByte1337/GraphSpy/raw/master/images/device_code_winhello_action.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/device_code_winhello_action.png)

## MFA Methods

[Permalink: MFA Methods](https://github.com/RedByte1337/GraphSpy#mfa-methods)

View, modify and create MFA methods linked to the account of the user.

[![MFA Methods Overview](https://github.com/RedByte1337/GraphSpy/raw/master/images/mfa_methods_overview.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/mfa_methods_overview.png)

The following MFA methods can be added from GraphSpy to set up persistance:

- Microsoft Authenticator App
- Custom OTP App, or use GraphSpy as OTP app to generate TOTP codes on the fly!
- FIDO Security Keys!
- Alternative email address
- Mobile/Office/Alternative Phones (SMS or call)

[![MFA Methods FIDO](https://github.com/RedByte1337/GraphSpy/raw/master/images/mfa_methods_fido.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/mfa_methods_fido.png)

## Primary Refresh Tokens (PRTs)

[Permalink: Primary Refresh Tokens (PRTs)](https://github.com/RedByte1337/GraphSpy#primary-refresh-tokens-prts)

Request, import or use primary refresh tokens from within GraphSpy.

These PRTs are a lot more powerful than regular refresh tokens, since these are not bound to one specific application, but can instead be used to obtain access tokens for ANY application/scope as the user (both FOCI and non-FOCI ones).

[![PRT Overview](https://github.com/RedByte1337/GraphSpy/raw/master/images/primary_refresh_tokens_overview.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/primary_refresh_tokens_overview.png)

Additionally, these PRT tokens can be used to generate PRT Cookies, which can be imported directly in a browser to provide a full interactive access to any web application integrated with Entra ID SSO.

[![PRT Cookies](https://github.com/RedByte1337/GraphSpy/raw/master/images/primary_refresh_tokens_cookie.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/primary_refresh_tokens_cookie.png)

## Windows Hello For Business

[Permalink: Windows Hello For Business](https://github.com/RedByte1337/GraphSpy#windows-hello-for-business)

Register Windows Hello For Business (whfb) keys in GraphSpy for a user & device combination, or import them from a different tool or a compromised device.

These WinHello keys can be used to generate new Primary Refresh Tokens for the user, even after password password resets, making them very powerful account persistence!

[![Winhello Keys](https://github.com/RedByte1337/GraphSpy/raw/master/images/winhello_keys.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/winhello_keys.png)

## Files and SharePoint

[Permalink: Files and SharePoint](https://github.com/RedByte1337/GraphSpy#files-and-sharepoint)

Browse through files and folders in the user's OneDrive or any accessible SharePoint site through an intuitive file explorer interface.

Of course, files can also be directly downloaded, or new files can be uploaded.

[![OneDrive](https://github.com/RedByte1337/GraphSpy/raw/master/images/onedrive_2.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/onedrive_2.png)

Additionally, list the user's recently accessed files or files shared with the user.

[![Recent Files](https://github.com/RedByte1337/GraphSpy/raw/master/images/recent_files.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/recent_files.png)

## Outlook

[Permalink: Outlook](https://github.com/RedByte1337/GraphSpy#outlook)

Open the user's Outlook web mail with a single click using just an Outlook access token (FOCI)!

[![Outlook GraphSpy](https://github.com/RedByte1337/GraphSpy/raw/master/images/outlook_1.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/outlook_1.png)

[![Outlook](https://github.com/RedByte1337/GraphSpy/raw/master/images/outlook_2.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/outlook_2.png)

Or use the Outlook Graph module to list, read, search, delete, reply or send emails with just an access token for the MS Graph API!

[![Outlook Graph Overview](https://github.com/RedByte1337/GraphSpy/raw/master/images/outlook_graph_overview.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/outlook_graph_overview.png)

Craft completely HTML formated emails directly in GraphSpy and include images and attachments.

[![Outlook Graph Overview](https://github.com/RedByte1337/GraphSpy/raw/master/images/outlook_graph_send_email.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/outlook_graph_send_email.png)

## MS Teams

[Permalink: MS Teams](https://github.com/RedByte1337/GraphSpy#ms-teams)

Read and send messages using the Microsoft Teams module with a FOCI access token of the skype API ( [https://api.spaces.skype.com/](https://api.spaces.skype.com/)).

[![MS Teams GraphSpy](https://github.com/RedByte1337/GraphSpy/raw/master/images/ms_teams.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/ms_teams.png)

## Graph Searching

[Permalink: Graph Searching](https://github.com/RedByte1337/GraphSpy#graph-searching)

Search for keywords through all Microsoft 365 applications using the Microsoft Search API.

For instance, use this to search for any files or emails containing keywords such as "password", "secret", ...

[![Graph Search](https://github.com/RedByte1337/GraphSpy/raw/master/images/graph_search_2.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/graph_search_2.png)

## Custom Requests

[Permalink: Custom Requests](https://github.com/RedByte1337/GraphSpy#custom-requests)

Perform custom API requests towards any endpoint using access tokens stored in GraphSpy.

[![Custom Request](https://github.com/RedByte1337/GraphSpy/raw/master/images/custom_requests.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/custom_requests.png)

Custom request templates with variables can be stored in the database to allow easy reuse of common custom API requests.

[![Custom Request](https://github.com/RedByte1337/GraphSpy/raw/master/images/custom_request_templates.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/custom_request_templates.png)

## Entra ID

[Permalink: Entra ID](https://github.com/RedByte1337/GraphSpy#entra-id)

List all Entra ID users and their properties using the Microsoft Graph API.

[![Entra Users Overview](https://github.com/RedByte1337/GraphSpy/raw/master/images/entra_users_overview.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/entra_users_overview.png)

View additional details for a user, such as its group memberships, role assignments, devices, app roles and API permissions.

[![Entra Users Details](https://github.com/RedByte1337/GraphSpy/raw/master/images/entra_users_details_1.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/entra_users_details_1.png)

## Multiple Databases

[Permalink: Multiple Databases](https://github.com/RedByte1337/GraphSpy#multiple-databases)

GraphSpy supports multiple databases. This is useful when working on multiple assessments at once to keep your tokens and device codes organized.

[![Graph Request](https://github.com/RedByte1337/GraphSpy/raw/master/images/settings.png)](https://github.com/RedByte1337/GraphSpy/blob/master/images/settings.png)

## Dark Mode

[Permalink: Dark Mode](https://github.com/RedByte1337/GraphSpy#dark-mode)

Use the dark mode by default, or switch to light mode.

# Release Notes

[Permalink: Release Notes](https://github.com/RedByte1337/GraphSpy#release-notes)

Refer to the [Release Notes](https://github.com/RedByte1337/GraphSpy/wiki/Release-Notes) page on the GitHub Wiki

# Upcoming Features

[Permalink: Upcoming Features](https://github.com/RedByte1337/GraphSpy#upcoming-features)

- Rename files and create folders
- More authentication options
  - Password, ESTSAuth Cookie, PRT, ...
- Automatic Access Token Refreshing
- Improve Microsoft Teams Module
  - Download authenticated files
  - Upload files and images
- Entra ID
  - List Users, Groups, Applications, Devices, Conditional Access Policies, ...
- Cleaner exception handling
  - While this should not have any direct impact on the user, edge cases might currently throw exceptions to the GraphSpy output instead of handling them in a cleaner way.

# Sponsors

[Permalink: Sponsors](https://github.com/RedByte1337/GraphSpy#sponsors)

Do you or your organization want to be featured as a key sponsor of this project here, or even mentioned within GraphSpy itself? Or do you just like GraphSpy and want to support my work?

Please check out my [Sponsor page](https://github.com/sponsors/RedByte1337).

_If you do not have the means to sponsor, but you still want to show your gratitude, feel free to add a star instead._ ⭐

# Credits

[Permalink: Credits](https://github.com/RedByte1337/GraphSpy#credits)

The main motivation for creating GraphSpy was the lack of an easy to use way to perform post-compromise activities targetting Office365 applications (such as Outlook, Microsoft Teams, OneDrive, SharePoint, ...) with just an access token.

While several command-line tools existed which provided some basic functionality, none of them came close to the intuitive interactive experience which the original applications provide (such as the file explorer-like interface of OneDrive and SharePoint).

However, a lot of previous research was done by countless other persons (specifically regarding Device Code Phishing, which lead to the initial requirement for such a tool in the first place).

- Acknowledgements
  - [TokenTactics](https://github.com/rvrsh3ll/TokenTactics) and [TokenTacticsV2](https://github.com/f-bader/TokenTacticsV2)
  - [AADInternals](https://github.com/Gerenios/AADInternals)
  - [Introducing a new phishing technique for compromising Office 365 accounts](https://aadinternals.com/post/phishing/)
  - [The Art of the Device Code Phish](https://0xboku.com/2021/07/12/ArtOfDeviceCodePhish.html)
  - [GraphRunner](https://github.com/dafthack/GraphRunner) is a PowerShell tool with a lot of similar features, which was released while GraphSpy was already in development. Regardless, both tools still have their distinguishing factors.
  - [Roadtools](https://github.com/dirkjanm/ROADtools) by the awesome Dirk-Jan Mollema
- Assets
  - UIcons by [Flaticon](https://www.flaticon.com/uicons)

## About

Initial Access and Post-Exploitation Tool for AAD and O365 with a browser-based GUI


### Resources

[Readme](https://github.com/RedByte1337/GraphSpy#readme-ov-file)

### License

[BSD-3-Clause license](https://github.com/RedByte1337/GraphSpy#BSD-3-Clause-1-ov-file)

### Uh oh!

There was an error while loading. [Please reload this page](https://github.com/RedByte1337/GraphSpy).

[Activity](https://github.com/RedByte1337/GraphSpy/activity)

### Stars

[**1k**\\
stars](https://github.com/RedByte1337/GraphSpy/stargazers)

### Watchers

[**9**\\
watching](https://github.com/RedByte1337/GraphSpy/watchers)

### Forks

[**121**\\
forks](https://github.com/RedByte1337/GraphSpy/forks)

[Report repository](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2FRedByte1337%2FGraphSpy&report=RedByte1337+%28user%29)

## Sponsor this project

[![@RedByte1337](https://avatars.githubusercontent.com/u/8005550?s=64&v=4)](https://github.com/RedByte1337)[**RedByte1337** RedByte](https://github.com/RedByte1337)

[Sponsor](https://github.com/sponsors/RedByte1337)

[Learn more about GitHub Sponsors](https://github.com/sponsors)

### Uh oh!

There was an error while loading. [Please reload this page](https://github.com/RedByte1337/GraphSpy).

## [Contributors\  4](https://github.com/RedByte1337/GraphSpy/graphs/contributors)

- [![@RedByte1337](https://avatars.githubusercontent.com/u/8005550?s=64&v=4)](https://github.com/RedByte1337)[**RedByte1337** RedByte](https://github.com/RedByte1337)
- [![@fxai](https://avatars.githubusercontent.com/u/44463990?s=64&v=4)](https://github.com/fxai)[**fxai**](https://github.com/fxai)
- [![@pwnf](https://avatars.githubusercontent.com/u/54254701?s=64&v=4)](https://github.com/pwnf)[**pwnf**](https://github.com/pwnf)
- [![@n3rada](https://avatars.githubusercontent.com/u/72791564?s=64&v=4)](https://github.com/n3rada)[**n3rada**](https://github.com/n3rada)

## Languages

- [HTML64.7%](https://github.com/RedByte1337/GraphSpy/search?l=html)
- [Python26.2%](https://github.com/RedByte1337/GraphSpy/search?l=python)
- [JavaScript8.6%](https://github.com/RedByte1337/GraphSpy/search?l=javascript)
- [CSS0.5%](https://github.com/RedByte1337/GraphSpy/search?l=css)

You can’t perform that action at this time.