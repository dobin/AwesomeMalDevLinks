Title:
Metasploit – Python Meterpreter through Proxy

Type:
Blog Post

Short Summary (4–8 sentences max):
- This post shows how to obtain a full Metasploit Meterpreter session from a Linux web shell when direct outbound connectivity is blocked but an HTTP proxy is available.  
- It uses Metasploit’s `payload/python/meterpreter/reverse_http` and configures the payload to egress via a discovered proxy using `PayloadProxyHost` and `PayloadProxyPort`.  
- The author demonstrates validating Python execution via the web shell, generating a raw Python stager (including bad-character avoidance), and setting up `exploit/multi/handler` with matching options.  
- The payload is triggered with a `python -c` one-liner from the web shell, resulting in a staged Meterpreter session over HTTP through the proxy.  
- Useful for red teamers and pentesters dealing with restrictive egress controls where proxy-based outbound access is the only path.  
- Interesting because it highlights a lesser-used Metasploit feature (proxy-aware Python Meterpreter) for practical egress bypass in constrained environments.

Technical Focus:
- Metasploit Python Meterpreter (`reverse_http`)
- Proxy-aware payload configuration (`PayloadProxyHost`, `PayloadProxyPort`)
- Web shell to staged session upgrade
- Multi/handler setup and session reliability options (`ExitOnSession`, `VERBOSE`)
- Payload generation formats and bad character filtering (`-b`, raw output)

Use Cases:
- Upgrading a Linux web shell to an interactive Meterpreter session via an outbound HTTP proxy
- Operating in environments with blocked direct egress but allowed proxy traffic
- Rapid staging of a C2 channel over HTTP from limited command execution
- Troubleshooting and stabilizing handlers for repeated callback attempts

Keywords:
Metasploit, msfconsole, meterpreter, python/meterpreter/reverse_http, exploit/multi/handler, PayloadProxyHost, PayloadProxyPort, HTTP proxy, reverse shell, web shell, staging, LHOST, LPORT, LURI, bad characters, generate -t raw, python -c, egress filtering, proxy egress, Linux post-exploitation